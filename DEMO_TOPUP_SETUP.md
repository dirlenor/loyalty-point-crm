# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Demo Topup

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
1. [‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables](#1-‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤-environment-variables)
2. [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ PromptPay API ‡∏à‡∏£‡∏¥‡∏á](#2-‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ-promptpay-api-‡∏à‡∏£‡∏¥‡∏á)
3. [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Webhook](#3-‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö-webhook)
4. [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#4-‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
5. [Troubleshooting](#5-troubleshooting)

---

## 1. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

### 1.1 ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Local Development (.env.local)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ):

```bash
# ‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ
cd "/Users/apple/Desktop/CRM - Reward Point"
touch .env.local
```

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

```env
# ============================================
# Demo Topup System Configuration
# ============================================

# ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Demo Mode
DEMO_MODE=true
DEMO_ENABLED=true

# PromptPay Sandbox API (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
# ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ API ‡∏à‡∏£‡∏¥‡∏á ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ mock ‡πÑ‡∏î‡πâ
PROMPTPAY_API_KEY=test_demo_key_12345
PROMPTPAY_API_SECRET=test_demo_secret_67890
PROMPTPAY_SANDBOX_URL=https://sandbox-api.promptpay.com
PROMPTPAY_WEBHOOK_SECRET=test_webhook_secret_abc123

# Demo Settings
DEMO_POINT_RATE=1          # 1 ‡∏ö‡∏≤‡∏ó = 1 ‡πÅ‡∏ï‡πâ‡∏°
DEMO_QR_EXPIRY_MINUTES=15  # QR Code ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ

# ============================================
# Supabase Configuration (‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)
# ============================================
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_key
```

### 1.2 ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Vercel (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production)

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Vercel Dashboard](https://vercel.com)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **Environment Variables**
4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å Environment: Production, Preview, Development):

```
DEMO_MODE = true
DEMO_ENABLED = true
PROMPTPAY_API_KEY = test_demo_key_12345
PROMPTPAY_API_SECRET = test_demo_secret_67890
PROMPTPAY_SANDBOX_URL = https://sandbox-api.promptpay.com
PROMPTPAY_WEBHOOK_SECRET = test_webhook_secret_abc123
DEMO_POINT_RATE = 1
DEMO_QR_EXPIRY_MINUTES = 15
```

5. ‡∏Å‡∏î **Save** ‡πÅ‡∏•‡∏∞ **Redeploy** ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

---

## 2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ PromptPay API ‡∏à‡∏£‡∏¥‡∏á

‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ **Mock Response** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ PromptPay API ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 2.1 ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Topup Order ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Mock QR Code (SVG placeholder)
- QR Code ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Order ID ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
- **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏à‡∏£‡∏¥‡∏á** - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏î‡∏™‡∏≠‡∏ö webhook ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

### 2.2 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πÅ‡∏Å‡∏ô QR

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Topup Order ‡∏ú‡πà‡∏≤‡∏ô Admin UI
2. ‡∏î‡∏π Order ID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πà‡∏ô `DEMO-20241215-ABC12`)
3. ‡πÉ‡∏ä‡πâ API ‡∏´‡∏£‡∏∑‡∏≠ Postman ‡∏™‡πà‡∏á Webhook ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `/api/demo/webhook/payment`

---

## 3. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Webhook

### 3.1 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ curl (Terminal)

```bash
# ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà YOUR_DOMAIN ‡∏î‡πâ‡∏ß‡∏¢ domain ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
# ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà ORDER_ID ‡∏î‡πâ‡∏ß‡∏¢ Order ID ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
# ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà TRANSACTION_ID ‡∏î‡πâ‡∏ß‡∏¢ Transaction ID ‡∏à‡∏≤‡∏Å Order

curl -X POST https://YOUR_DOMAIN/api/demo/webhook/payment \
  -H "Content-Type: application/json" \
  -H "x-promptpay-signature: test_signature" \
  -H "x-promptpay-timestamp: $(date -u +"%Y-%m-%dT%H:%M:%SZ")" \
  -d '{
    "event": "payment.success",
    "transactionId": "txn_demo_123456789",
    "amount": 100.00,
    "currency": "THB",
    "timestamp": "'$(date -u +"%Y-%m-%dT%H:%M:%SZ")'",
    "metadata": {
      "orderId": "DEMO-20241215-ABC12"
    }
  }'
```

### 3.2 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Postman

1. ‡πÄ‡∏õ‡∏¥‡∏î Postman
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Request ‡πÉ‡∏´‡∏°‡πà:
   - **Method**: POST
   - **URL**: `https://YOUR_DOMAIN/api/demo/webhook/payment`
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Headers:
   ```
   Content-Type: application/json
   x-promptpay-signature: test_signature
   x-promptpay-timestamp: 2024-12-15T10:30:00Z
   ```
4. ‡πÄ‡∏û‡∏¥‡πà‡∏° Body (JSON):
   ```json
   {
     "event": "payment.success",
     "transactionId": "txn_demo_123456789",
     "amount": 100.00,
     "currency": "THB",
     "timestamp": "2024-12-15T10:30:00Z",
     "metadata": {
       "orderId": "DEMO-20241215-ABC12"
     }
   }
   ```
5. ‡∏Å‡∏î **Send**

### 3.3 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Test Webhook (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Test Webhook ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

---

## 4. ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 4.1 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Local Development

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏£‡∏¥‡πà‡∏° Development Server

```bash
cd "/Users/apple/Desktop/CRM - Reward Point"
npm run dev
```

‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `http://localhost:3000`

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Admin - ‡∏™‡∏£‡πâ‡∏≤‡∏á Topup Order

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000/admin/demo-topup`
2. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **User ID**: ‡πÉ‡∏ä‡πâ Profile ID ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö CRM (‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà `/admin/customers`)
   - **‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô**: ‡πÄ‡∏ä‡πà‡∏ô `100`
   - **‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå** (Optional): ‡πÄ‡∏ä‡πà‡∏ô `0812345678`
   - **‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•** (Optional): ‡πÄ‡∏ä‡πà‡∏ô `‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö`
3. ‡∏Å‡∏î **‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code**
4. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:
   - QR Code (Mock)
   - Order ID (‡πÄ‡∏ä‡πà‡∏ô `DEMO-20241215-ABC12`)
   - Transaction ID
   - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Webhook (Simulate Payment)

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏á‡πà‡∏≤‡∏¢‡πÜ**: ‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤ Test Webhook ‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ curl:

```bash
# ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà ORDER_ID ‡πÅ‡∏•‡∏∞ TRANSACTION_ID ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á
curl -X POST http://localhost:3000/api/demo/webhook/payment \
  -H "Content-Type: application/json" \
  -H "x-promptpay-signature: test_signature" \
  -H "x-promptpay-timestamp: $(date -u +"%Y-%m-%dT%H:%M:%SZ")" \
  -d '{
    "event": "payment.success",
    "transactionId": "txn_demo_123456789",
    "amount": 100.00,
    "currency": "THB",
    "timestamp": "'$(date -u +"%Y-%m-%dT%H:%M:%SZ")'",
    "metadata": {
      "orderId": "DEMO-20241215-ABC12"
    }
  }'
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000/admin/demo-topup/orders`
2. ‡∏î‡∏π Order ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô **"‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"**
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Customer App: `http://localhost:3000/customer/demo-wallet`
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πâ‡∏°‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤ Demo Wallet ‡πÅ‡∏•‡πâ‡∏ß

### 4.2 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Production (Vercel)

1. Deploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Vercel
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables ‡πÉ‡∏ô Vercel (‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1.2)
3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Local Development
4. ‡πÉ‡∏ä‡πâ Production URL ‡πÅ‡∏ó‡∏ô `localhost:3000`

---

## 5. Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Demo mode is not enabled"

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `DEMO_MODE=true` ‡πÅ‡∏•‡∏∞ `DEMO_ENABLED=true` ‡πÉ‡∏ô `.env.local`
- Restart development server (`npm run dev`)

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "‡πÑ‡∏°‡πà‡∏û‡∏ö demo user"

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡πÉ‡∏ä‡πâ Profile ID ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö CRM
- ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á demo user ‡πÉ‡∏´‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Webhook ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Transaction ID ‡πÅ‡∏•‡∏∞ Order ID ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Headers (`x-promptpay-signature`, `x-promptpay-timestamp`)
- ‡∏î‡∏π Console Logs ‡πÉ‡∏ô Terminal

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Webhook ‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Status 200)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database ‡∏ß‡πà‡∏≤ Order Status ‡πÄ‡∏õ‡πá‡∏ô "success"
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `demo_wallets` table ‡∏ß‡πà‡∏≤ balance ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

---

## 6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database

### ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Supabase

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Supabase Dashboard](https://supabase.com)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Table Editor**
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Tables:
   - `demo_users` - ‡∏î‡∏π demo users
   - `demo_wallets` - ‡∏î‡∏π wallet balance
   - `demo_topup_orders` - ‡∏î‡∏π orders
   - `demo_topup_transactions` - ‡∏î‡∏π transactions
   - `demo_points_ledger` - ‡∏î‡∏π ledger entries

---

## 7. ‡∏™‡∏£‡∏∏‡∏õ

### ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° environment variables
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ environment variables ‡πÉ‡∏ô Vercel
- [ ] Restart development server
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Topup Order
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Webhook
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πâ‡∏°‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°

### üéØ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß:
1. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö PromptPay API ‡∏à‡∏£‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Webhook URL ‡πÉ‡∏ô PromptPay Dashboard
3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏±‡∏ö QR Code ‡∏à‡∏£‡∏¥‡∏á

---

## üìû ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

**Q: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ PromptPay API Key ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏°?**
A: ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ Mock Response ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**Q: QR Code ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏°?**
A: ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Mock QR Code ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Webhook ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö

**Q: ‡πÅ‡∏ï‡πâ‡∏°‡πÉ‡∏ô Demo Wallet ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?**
A: ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Demo Wallet ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å Production Points ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

**Q: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Demo ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏°?**
A: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Demo ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Database ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å Production ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ

---

## üöÄ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß!

‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4

